<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <title>Update Pet's Record</title>
    <link rel="stylesheet" th:href="@{/styles.css}">
</head>

<body>
    <div class="petform">
        <h1> Update Pet's Record </h1>
        <form method="POST" th:object="${pet}">

        <div class="row">
            <div class="col">
                <label for="name" class="form-label">Pet's Name</label>
                <input type="text" class="form-control" name="name" th:field="*{name}" placeholder="First name"
                    aria-label="First name">
                <div class="alert alert-danger" th:if="${#fields.hasErrors('name')}" th:errors="*{name}"></div>
            </div>
            <div class="col">
                <label for="dateOfBirth" class="form-label">Pet's Date Of Birth</label>
                <input type="date" class="form-control" name="dateOfBirth" th:field="*{dateOfBirth}"
                    aria-describedby="dateOfBirthHelp" />
                <div id="dateOfBirthHelp" class="form-text">Please enter a past date</div>
                <div class="alert alert-danger" th:if="${#fields.hasErrors('dateOfBirth')}" th:errors="*{dateOfBirth}"></div>
            </div>
            <br>
            <div class="row">
            <div class="col">
                <label for="name" class="form-label">Last Vaccination Date</label>
                <input type="date" class="form-control" name="dateOfVaccination" th:field="*{dateOfVaccination}" />
               
                <div class="alert alert-danger" th:if="${#fields.hasErrors('dateOfVaccination')}"
                    th:errors="*{dateOfVaccination}"></div>
            </div>
            <div class="col">
                <label for="dateOfVaccination" class="form-label"> Next Vaccination Date</label>
                <input type="date" class="form-control" name="dateOfNextVaccination" th:field="*{dateOfNextVaccination}"/>
                    <div id="thumbwrap">
                        <a class="thumb" >Suggested Vaccination Timeline<span><img src="/images/vaccinationpicture.jpg" width="400" height="300" alt="timeline of vaccination"></span></a>
                </div>
               
                <div class="alert alert-danger" th:if="${#fields.hasErrors('dateOfNextVaccination')}"
                    th:errors="*{dateOfNextVaccination}"></div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="lastGroomedDate" class="form-label">Last Grooming Session</label>
                <input type="text" class="form-control" name="lastGroomedDate" th:field="*{lastGroomedDate}"
                    aria-describedby="lastGroomedDateHelp" />
                <div id="lastGroomedDateHelp" class="form-text">When was your furkid's last grooming session?
                </div>
                <div class="alert alert-danger" th:if="${#fields.hasErrors('lastGroomedDate')}"
                    th:errors="*{lastGroomedDate}"></div>
            </div>
            <div class="col">
                <label for="nextGroomedDate" class="form-label">Next Grooming Session</label>
                <input type="text" class="form-control" name="nextGroomedDate" th:field="*{nextGroomedDate}"
                    aria-describedby="nextGroomedDateHelp" />
                <div id="nextGroomedDateHelp" class="form-text">When is your furkid's next grooming session?
                </div>
                <div class="alert alert-danger" th:if="${#fields.hasErrors('nextGroomedDate')}"
                    th:errors="*{nextGroomedDate}"></div>
            </div>
        </div>
        <div class="row">
            <div class="col">
                <label for="name" class="form-label">Pet's Microchip Number</label>
                <input type="number" class="form-control" name="microChipNumber"
                    th:field="*{microChipNumber}" aria-describedby="microChipNumberHelp" />
                <div id="microChipNumberHelp" class="form-text">Between 10 - 15 digits</div>
                <div class="alert alert-danger" th:if="${#fields.hasErrors('microChipNumber')}"
                    th:errors="*{microChipNumber}"></div>
            </div>
            <div class="col">
                <label for="age" class="form-label">Pet's age</label>
                <input type="number" class="form-control" name="age" th:field="*{age}"/> 
                <div class="alert alert-danger" th:if="${#fields.hasErrors('age')}" th:errors="*{age}">
                </div>
            </div>
            <div class="row">
                <div class="col">
                    <label for="breed" class="form-label">Breed</label>
                    <select id="breed" name="breed" class="form-select">
                        <option th:each="b: ${listofbreeds}" data-th-value="${b.name}" data-th-text="${b.name}"> </option>
                        <option value="other" class="other">Other</option>
                </select>
                </div>
            </div>
                        <div class="col">
                    <label for="dateOfBirth" class="form-label">Pet's Gender</label>
                    <input type="text" class="form-control" name="gender" th:field="*{gender}"
                        aria-describedby="genderHelp" />
                    <div id="genderHelp" class="form-text">please enter your furkid's gender</div>
                    <div class="alert alert-danger" th:if="${#fields.hasErrors('gender')}"
                        th:errors="*{gender}"></div>
                </div>
            </div>
                <div class="row">
                    <div class="col">
                        <label for="allergies" class="form-label">Allergies</label>
                        <input type="text" class="form-control" name="allergies" th:field="*{allergies}"
                            aria-describedby="allergiesHelp" />
                        <div id="allergiesHelp" class="form-text">Any food allergies, medicine allergies?
                        </div>
                        <div class="alert alert-danger" th:if="${#fields.hasErrors('allergies')}"
                            th:errors="*{allergies}">
                        </div>
                    </div>
                    <div class="commentbox">
                        <label for="comments">Comments:</label>
                        <textarea id="comments" name="comments" rows="4" cols="50" th:field="*{comments}" 
                            placeholder="Enter your comments here" aria-describedby="commentHelp" ></textarea>
                        <div id="commentHelp" class="form-text">Any additional medications or important dates?</div>

                        <br>
                        <button type="submit" class="btn" th:formaction="@{/pets/petsupdated}"> Update Record </button>
                        <button type="submit" class="btn" th:formaction="@{/pets/cancel}"> Cancel </button>
                        
        </form>
    </div>


</body>

</html>